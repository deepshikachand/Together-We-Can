(()=>{var e={};e.id=744,e.ids=[744],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},10422:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(70260),i=s(28203),n=s(25155),a=s.n(n),o=s(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["drives",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,68615)),"E:\\Deepshika\\web development\\Together-We-Can-main\\src\\app\\drives\\[id]\\page.tsx"]}]},{}]},{loading:[()=>Promise.resolve().then(s.bind(s,38654)),"E:\\Deepshika\\web development\\Together-We-Can-main\\src\\app\\drives\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,71354)),"E:\\Deepshika\\web development\\Together-We-Can-main\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"]}],c=["E:\\Deepshika\\web development\\Together-We-Can-main\\src\\app\\drives\\[id]\\page.tsx"],h={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/drives/[id]/page",pathname:"/drives/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2932:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,13219,23)),Promise.resolve().then(s.t.bind(s,34863,23)),Promise.resolve().then(s.t.bind(s,25155,23)),Promise.resolve().then(s.t.bind(s,40802,23)),Promise.resolve().then(s.t.bind(s,9350,23)),Promise.resolve().then(s.t.bind(s,48530,23)),Promise.resolve().then(s.t.bind(s,88921,23))},62612:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,66959,23)),Promise.resolve().then(s.t.bind(s,33875,23)),Promise.resolve().then(s.t.bind(s,88903,23)),Promise.resolve().then(s.t.bind(s,57174,23)),Promise.resolve().then(s.t.bind(s,84178,23)),Promise.resolve().then(s.t.bind(s,87190,23)),Promise.resolve().then(s.t.bind(s,61365,23))},21375:(e,t,s)=>{Promise.resolve().then(s.bind(s,99305))},58327:(e,t,s)=>{Promise.resolve().then(s.bind(s,7405))},8541:(e,t,s)=>{Promise.resolve().then(s.bind(s,68615))},27101:(e,t,s)=>{Promise.resolve().then(s.bind(s,39907))},96487:()=>{},78335:()=>{},39907:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(45512),i=s(58009),n=s(79334),a=s(90993),o=s(28531),l=s.n(o),d=s(41406);function c({params:e}){let t=(0,n.useRouter)(),{data:s}=(0,a.useSession)(),{id:o}=(0,i.use)(e),[c,h]=(0,i.useState)(null),[x,m]=(0,i.useState)(!0),[u,p]=(0,i.useState)(""),[g,v]=(0,i.useState)(!1),[f,b]=(0,i.useState)(!1),[j,y]=(0,i.useState)(""),[w,N]=(0,i.useState)(!1),[C,P]=(0,i.useState)(!1),[k,E]=(0,i.useState)(null),[D,S]=(0,i.useState)(!1),[A,L]=(0,i.useState)(!1),T=async()=>{if(!s){t.push(`/auth/signin?callbackUrl=/drives/${o}/register`);return}t.push(`/drives/${o}/register`)},U=async()=>{if(c){S(!0),E(null);try{let e=await fetch("/api/blog-generator",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:c.id})}),t=await e.json();e.ok?(E("Blog generated successfully!"),L(!0)):E(t.error||"Failed to generate blog.")}catch(e){E("Failed to generate blog.")}finally{S(!1)}}};return x?(0,r.jsxs)("div",{className:"min-h-screen bg-[#0E6E5C] flex flex-col items-center justify-center",children:[(0,r.jsx)(d.F,{}),(0,r.jsx)("div",{className:"flex-grow flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-xl text-white",children:"Loading..."})})]}):u||!c?(0,r.jsxs)("div",{className:"min-h-screen bg-[#0E6E5C] flex flex-col items-center justify-center",children:[(0,r.jsx)(d.F,{}),(0,r.jsx)("div",{className:"flex-grow flex items-center justify-center",children:(0,r.jsx)("p",{className:"text-xl text-red-600",children:u||"Event not found"})})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-[#0E6E5C] flex flex-col",children:[(0,r.jsx)(d.F,{}),(0,r.jsx)("div",{className:"flex-grow py-12 px-4 sm:px-6 lg:px-8 flex items-center justify-center",children:(0,r.jsx)("div",{className:"max-w-3xl w-full",children:(0,r.jsx)("div",{className:"bg-white shadow sm:rounded-lg",children:(0,r.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:[c.eventName,(0,r.jsxs)("span",{className:`ml-3 px-3 py-1 rounded-full text-sm font-semibold
                  ${"upcoming"===c.status?"bg-green-100 text-green-800":"postponed"===c.status?"bg-blue-100 text-blue-800":"completed"===c.status?"bg-red-100 text-red-800":"cancelled"===c.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}
                `,children:[c.status.charAt(0).toUpperCase()+c.status.slice(1),"postponed"===c.status&&c.postponedUntil&&(0,r.jsx)("span",{children:` until ${new Date(c.postponedUntil).toLocaleDateString("en-IN",{month:"short",day:"numeric",year:"numeric"})}`})]})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[c.statusReason&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Status Reason"}),(0,r.jsx)("p",{className:"mt-1 text-gray-600",children:c.statusReason})]}),c.statusUpdatedAt&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Last Updated"}),(0,r.jsxs)("p",{className:"mt-1 text-gray-600",children:[new Date(c.statusUpdatedAt).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),c.statusUpdatedBy&&` by ${c.statusUpdatedBy}`]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Description"}),(0,r.jsx)("p",{className:"mt-1 text-gray-600",children:c.description})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Date & Time"}),(0,r.jsx)("p",{className:"mt-1 text-gray-600",children:c.startDate?(0,r.jsxs)(r.Fragment,{children:[new Date(c.startDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"}),c.endDate&&(0,r.jsxs)(r.Fragment,{children:[" to ",new Date(c.endDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})]}),c.time&&(0,r.jsxs)(r.Fragment,{children:[" at ",new Date(`1970-01-01T${c.time}:00`).toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0})]})]}):"Unknown Date"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Location"}),(0,r.jsxs)("p",{className:"mt-1 text-gray-600",children:[c.location,c.fullAddress&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("br",{}),c.fullAddress]}),(0,r.jsx)("br",{}),c.city?.cityName,", ",c.city?.state,", ",c.city?.country]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Categories"}),(0,r.jsx)("div",{className:"mt-1 flex flex-wrap gap-2",children:c.categories.map(e=>(0,r.jsx)("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium bg-indigo-100 text-indigo-800",children:e.categoryName},e.categoryName))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Participants"}),(0,r.jsxs)("p",{className:"mt-1 text-gray-600",children:[c.currentParticipants," of ",c.expectedParticipants," expected"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Created By"}),(0,r.jsx)("p",{className:"mt-1 text-gray-600",children:c.creator?.name})]}),c.currentParticipants<10&&"completed"!==c.status&&(0,r.jsx)("p",{className:"mt-4 text-red-600 text-sm font-semibold",children:"Drives will only be visible to others when you have a minimum of 10 participants, so share the link below with your friends and encourage them to join."}),g&&"completed"!==c.status&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-md",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Share this Drive"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Share this URL with others to join your drive:"}),(0,r.jsxs)("div",{className:"mt-2 flex items-center",children:[(0,r.jsx)("input",{type:"text",readOnly:!0,value:`${window.location.origin}/drives/${c.id}`,className:"flex-grow border border-gray-300 rounded-md shadow-sm p-2 text-sm bg-gray-100 focus:outline-none text-black"}),(0,r.jsx)("button",{onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/drives/${c.id}`),alert("Link copied to clipboard!")},className:"ml-2 px-4 py-2 bg-[#0E6E5C] text-white rounded-md hover:bg-[#0a5748] text-sm",children:"Copy Link"})]})]}),g&&"completed"===c.status&&(0,r.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-md flex flex-col items-center",children:[A?(0,r.jsx)(l(),{href:`/blogs/review/${c.id}`,children:(0,r.jsx)("button",{className:"px-6 py-2 bg-[#0E6E5C] text-white rounded-md hover:bg-[#0a5748] text-lg font-semibold",children:"Review Blog"})}):(0,r.jsx)("button",{className:"px-6 py-2 bg-[#0E6E5C] text-white rounded-md hover:bg-[#0a5748] text-lg font-semibold",onClick:U,disabled:D,children:D?"Generating Blog...":"Generate Blog"}),k&&(0,r.jsx)("p",{className:`mt-2 text-sm font-medium ${k.includes("success")?"text-green-600":"text-red-600"}`,children:k})]}),"cancelled"===c.status&&(0,r.jsx)("div",{className:"mt-4 p-4 bg-red-100 rounded-md flex flex-col items-center",children:(0,r.jsx)("span",{className:"text-red-800 font-semibold text-lg",children:"This event was cancelled."})}),(0,r.jsxs)("div",{className:"mt-8 flex justify-center",children:[!g&&(0,r.jsx)("button",{onClick:T,className:`px-8 py-3 rounded-md text-lg font-semibold transition duration-300
                        ${C?"bg-gray-400 text-white cursor-not-allowed":"bg-[#0E6E5C] text-white hover:bg-[#0a5748]"}
                      `,disabled:C||f,children:f?"Processing...":C?"Already Registered":"Register for Drive"}),g&&"completed"!==c.status&&(new Date<new Date(c.endDate?c.endDate:c.startDate)?(0,r.jsx)(l(),{href:`/drives/${c.id}/edit`,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-[#0E6E5C] hover:bg-[#0a5748] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0E6E5C]",children:"Edit Drive"}):null)]})]})]})})})})]})}},41406:(e,t,s)=>{"use strict";s.d(t,{F:()=>c});var r=s(45512),i=s(58009),n=s(28531),a=s.n(n),o=s(52414),l=s(79334),d=s(90993);let c=()=>{let[e,t]=(0,i.useState)(!1),s=(0,l.useRouter)(),{data:n}=(0,d.useSession)();return console.log("Navbar session:",n),(0,r.jsxs)("nav",{className:"bg-[#0E6E5C] fixed w-full z-50",children:[(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16 items-center",children:[(0,r.jsxs)(a(),{href:"/",className:"flex items-center space-x-2",children:[(0,r.jsx)(o.Mbv,{className:"h-6 w-6 text-[#E87B5A]"}),(0,r.jsx)("span",{className:"text-xl font-semibold text-white",children:"Together We Can"})]}),(0,r.jsxs)("div",{className:"hidden sm:flex sm:items-center sm:space-x-8",children:[(0,r.jsx)(a(),{href:"/",className:"text-white/80 hover:text-white transition-colors",children:"Home"}),(0,r.jsx)(a(),{href:"/drives",className:"text-white/80 hover:text-white transition-colors",children:"Find Drives"}),(0,r.jsx)(a(),{href:"/create",className:"text-white/80 hover:text-white transition-colors",children:"Create Drives"}),(0,r.jsx)(a(),{href:"/blog",className:"text-white/80 hover:text-white transition-colors",children:"Blogs"}),(0,r.jsx)(a(),{href:"/contact",className:"text-white/80 hover:text-white transition-colors",children:"Contact Us"}),(0,r.jsx)("button",{onClick:()=>n?s.push("/profile"):s.push("/auth/signin"),className:"bg-[#F2994A] hover:bg-[#f2994a]/80 text-white font-bold py-2 px-6 rounded-full shadow-md transition duration-300",children:n?"Profile":"Sign Up / Sign In"})]}),(0,r.jsx)("div",{className:"sm:hidden flex items-center",children:(0,r.jsx)("button",{onClick:()=>t(!e),className:"inline-flex items-center justify-center p-2 rounded-md text-white/80 hover:text-white",children:(0,r.jsx)("svg",{className:"h-6 w-6",stroke:"currentColor",fill:"none",viewBox:"0 0 24 24",children:e?(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"}):(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})})]})}),e&&(0,r.jsx)("div",{className:"sm:hidden bg-[#0E6E5C]",children:(0,r.jsxs)("div",{className:"pt-2 pb-3 space-y-1",children:[(0,r.jsx)(a(),{href:"/",className:"block px-3 py-2 text-white/80 hover:text-white transition-colors",children:"Home"}),(0,r.jsx)(a(),{href:"/drives",className:"block px-3 py-2 text-white/80 hover:text-white transition-colors",children:"Find Drives"}),(0,r.jsx)(a(),{href:"/create",className:"block px-3 py-2 text-white/80 hover:text-white transition-colors",children:"Create Drives"}),(0,r.jsx)(a(),{href:"/blog",className:"block px-3 py-2 text-white/80 hover:text-white transition-colors",children:"Blogs"}),(0,r.jsx)(a(),{href:"/contact",className:"block px-3 py-2 text-white/80 hover:text-white transition-colors",children:"Contact Us"}),(0,r.jsx)("div",{className:"px-3 py-2",children:(0,r.jsx)("button",{onClick:()=>n?s.push("/profile"):s.push("/auth/signin"),className:"w-full bg-[#F2994A] hover:bg-[#f2994a]/80 text-white font-bold px-4 py-2 rounded-full shadow-md transition duration-300",children:n?"Profile":"Sign Up / Sign In"})})]})})]})}},7405:(e,t,s)=>{"use strict";s.d(t,{default:()=>n});var r=s(45512),i=s(90993);function n({children:e}){return(0,r.jsx)(i.SessionProvider,{children:e})}},68615:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\Deepshika\\\\web development\\\\Together-We-Can-main\\\\src\\\\app\\\\drives\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\Deepshika\\web development\\Together-We-Can-main\\src\\app\\drives\\[id]\\page.tsx","default")},38654:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(62740),i=s(96966);function n(){return(0,r.jsx)(i.A,{message:"Loading drives..."})}},71354:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>o});var r=s(62740);s(76301);var i=s(85041),n=s.n(i);s(61135);var a=s(99305);let o={title:"Together We Can",description:"A platform for creating and joining social impact events"};function l({children:e}){return(0,r.jsx)("html",{lang:"en",children:(0,r.jsx)("body",{className:n().className,children:(0,r.jsx)(a.default,{children:e})})})}},99305:(e,t,s)=>{"use strict";s.d(t,{default:()=>r});let r=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"E:\\\\Deepshika\\\\web development\\\\Together-We-Can-main\\\\src\\\\components\\\\providers\\\\SessionProvider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"E:\\Deepshika\\web development\\Together-We-Can-main\\src\\components\\providers\\SessionProvider.tsx","default")},96966:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var r=s(62740);s(76301);let i=({message:e="Loading..."})=>(0,r.jsx)("div",{style:{minHeight:"100vh",background:"#0E6E5C",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,r.jsx)("span",{style:{color:"#111",fontSize:"1.5rem",fontWeight:500},children:e})})},61135:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,6867,4730,2414],()=>s(10422));module.exports=r})();